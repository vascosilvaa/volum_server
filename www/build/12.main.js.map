{"version":3,"sources":["../../src/pages/notifications/notifications.module.ts","../../src/pages/notifications/notifications.ts","../../src/services/notifications.service.ts"],"names":[],"mappings":"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","file":"12.main.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { Notifications } from './notifications';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    Notifications,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(Notifications),\r\n  ],\r\n  exports: [\r\n    Notifications\r\n  ]\r\n})\r\nexport class NotificationsModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/notifications/notifications.module.ts","import { Profile } from './../profile/profile';\r\nimport { NotificationsService } from './../../services/notifications.service';\r\nimport { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams, PopoverController } from 'ionic-angular';\r\n\r\n/**\r\n * Generated class for the Notifications page.\r\n *\r\n * See http://ionicframework.com/docs/components/#navigation for more info\r\n * on Ionic pages and navigation.\r\n */\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-notifications',\r\n  templateUrl: 'notifications.html',\r\n  providers: [NotificationsService]\r\n})\r\nexport class Notifications {\r\n\r\n  public notifications = [];\r\n\r\n  constructor(public navCtrl: NavController, public notificationService: NotificationsService, public navParams: NavParams, public popoverCtrl: PopoverController) {\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    console.log('ionViewDidLoad Notifications');\r\n    this.notificationService.getNotifications().then(res => {\r\n      console.log(\"res1\", res);\r\n      //   this.notifications = res.notifications;\r\n      console.log(this.notifications);\r\n\r\n    });\r\n\r\n    this.notificationService.getRequests().then(res => {\r\n      console.log(\"res2\", res);\r\n      this.notifications = res.notifications;\r\n\r\n    })\r\n\r\n\r\n  }\r\n\r\n  visit(id) {\r\n    this.navCtrl.push(\"Profile\", { id_user: id });\r\n  }\r\n\r\n  //POPOVER HEADER\r\n  openMenusHeader(ev) {\r\n    let popover = this.popoverCtrl.create(\"Popover\", { typePopOver: '0', userId: '1' });\r\n    popover.present({\r\n      ev: ev\r\n    });\r\n  }\r\n\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/notifications/notifications.ts","import { GlobalConstants } from '../shared/global-constants';\r\nimport { Injectable } from '@angular/core';\r\nimport { Http } from '@angular/http';\r\nimport { HttpClient } from '../shared/http-client';\r\nimport 'rxjs/add/operator/toPromise';\r\n\r\n\r\n@Injectable()\r\nexport class NotificationsService {\r\n\r\n\r\n    constructor(public http: HttpClient) {\r\n\r\n    }\r\n\r\n    newNotificationCount() {\r\n        return this.http.get(`${GlobalConstants.API_ENDPOINT}/notifications/not-read/count`).toPromise()\r\n            .then(res => { return res.json() })\r\n            .catch(error => console.log(error));\r\n    };\r\n    newRequestCount() {\r\n        return this.http.get(`${GlobalConstants.API_ENDPOINT}/notifications/requests/not-read/count`).toPromise()\r\n            .then(res => { return res.json() })\r\n            .catch(error => console.log(error));\r\n    };\r\n    getNotifications() {\r\n        return this.http.get(`${GlobalConstants.API_ENDPOINT}/notifications/`).toPromise()\r\n            .then(res => { return res.json() })\r\n            .catch(error => console.log(error));\r\n    };\r\n    getRequests() {\r\n        return this.http.get(`${GlobalConstants.API_ENDPOINT}/notifications/requests`).toPromise()\r\n            .then(res => { return res.json() })\r\n            .catch(error => console.log(error));\r\n    };\r\n    cleanRequests() {\r\n        return this.http.post(`${GlobalConstants.API_ENDPOINT}/notifications/requests/read-all`, null).toPromise()\r\n            .then(res => { return res.json() })\r\n            .catch(error => console.log(error));\r\n    }\r\n    cleanNotifications() {\r\n        return this.http.post(`${GlobalConstants.API_ENDPOINT}/notifications/read-all`, null).toPromise()\r\n            .then(res => { return res.json() })\r\n            .catch(error => console.log(error));\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/services/notifications.service.ts"],"sourceRoot":""}