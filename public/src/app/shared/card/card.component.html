<div class="card-bevolun">

    <div class="card-bevolun-header">
        <div class="card-bevolun-user-image">
            <img (click)="onSelect(userCreator)" class="clickable" src="{{avatar}}" (error)="this.avatar = 'http://santetotal.com/wp-content/uploads/2014/05/default-user.png'">
        </div>
        <div class="card-bevolun-user-name">
            <a *ngIf="login" class="clickable" (click)="onSelect(userCreator)">{{username}}</a>
            <a *ngIf="!login">{{username}}</a>
        </div>
        <div class="card-bevolun-user-verified bevolun-tooltip clickable" *ngIf="verified==1">
            <i class="material-icons">check_circle</i>
            <div class="bevolun-tooltiptext" (click)="onSelect(userCreator)">Instituição verificada</div>
        </div>
        <div class="card-bevolun-user-verified" *ngIf="verified==0" (click)="onSelect(userCreator)">
            <i class="material-icons">check_circle</i>
        </div>
        <div class="card-bevolun-date">
            {{dateCreation | amTimeAgo: true}}
        </div>
    </div>


    <div class="card-bevolun-image" (click)="openVolDetails(idVol)">
        <img class="clickable" [src]="photos[0]">
    </div>

    <div class="card-bevolum-content clickable" (click)="openVolDetails(idVol)">
        <div class="card-bevolum-title">
            <h5>{{title}}</h5>
        </div>
        <div class="card-bevolum-description">
            <p>{{description}}</p>
        </div>
    </div>

    <div class="card-bevolun-footer">
        <div class="card-bevolun-footer-likes">
            <div class="cardLikes">
                <div>
                <md-icon (click)="dislike(idVol)" *ngIf="login && (likeState==1)" class="btn-like">favorite</md-icon>
                <md-icon (click)="like(idVol)" *ngIf="login && (!likes || likeState==0)" class="btn-like btn-dislike">favorite_border</md-icon>
                <md-icon *ngIf="!login" class="btn-like">favorite</md-icon>
                </div>
                <div *ngIf="login  &&  type=='private'" class="likesText">
                    <span *ngIf="likeState==1" class="likesTestMe">Tu</span>
                    <span *ngIf="likeState==1 && likes<2">gostas disto.</span>
                    <span *ngIf="likeState==1 && likes>=2" class="pointer" (click)="openLikesModal(8, idVol)">e mais</span>
                    <span *ngIf="likeState==1 && likes>=2" class="pointer" (click)="openLikesModal(8, idVol)">{{likes-1}} pessoa<span *ngIf="likes>2">s</span> gostam disto.</span>
                    <span *ngIf="likeState==0 && likes>=1" class="pointer" (click)="openLikesModal(8, idVol)">{{likes}} pessoa<span *ngIf="likes>=2">s</span> gosta<span *ngIf="likes>=2">m</span> disto.</span>
                    <span *ngIf="likeState==0 && !likes">Sê o primeiro a gostar disto!</span>
                </div>
                <div *ngIf="!login" class="likesText">
                    <span *ngIf="likes>=1">{{likes}} pessoa<span *ngIf="likes>=1">s</span> gostam disto.</span>
                    <span *ngIf="!likes || likes==0">Sê o primeiro a gostar disto. <span (click)="openRegister()" class="likesTestMe clickable" style="cursor:pointer">Regista-te já</span></span>
                </div>
            </div>
            
        </div>
        <div class="card-bevolun-footer-btn">
             <button type="button" class="btn btn-primary btn-sm" (click)="openVolDetails(idVol)">Ver detalhes</button>
        </div>
    </div>

</div>
